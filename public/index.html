<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>New Year Wish</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}

    body{
      min-height:100vh;
      background:radial-gradient(circle at top,#ff6a88,#6c63ff);
      display:flex;
      justify-content:center;
      align-items:center;
      padding:14px;
    }

    .container{
      width:100%;
      max-width:1200px;
      background:rgba(255,255,255,.18);
      backdrop-filter:blur(22px);
      border-radius:28px;
      overflow:hidden;
      box-shadow:0 25px 70px rgba(0,0,0,.45);
      position:relative;
    }

    /* ‚úÖ LANDING */
    .landing{
      padding:70px 40px;
      color:white;
      text-align:center;
    }

    .landing h1{
      font-size:40px;
      margin-bottom:18px;
      font-weight:700;
    }

    .landing p{
      font-size:16px;
      opacity:.95;
      margin-bottom:30px;
    }

    /* ‚úÖ BOLD FEATURE CARDS */
    .features{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
      gap:18px;
      margin-bottom:40px;
    }

    .feature{
      background:linear-gradient(135deg,rgba(255,255,255,.28),rgba(255,255,255,.1));
      padding:20px;
      border-radius:18px;
      font-size:13px;
      font-weight:600;
      letter-spacing:.3px;
      box-shadow:0 10px 25px rgba(0,0,0,.2);
      transition:.3s;
    }

    .feature:hover{
      transform:translateY(-6px) scale(1.03);
    }

    .buttons{
      display:flex;
      justify-content:center;
      gap:15px;
      flex-wrap:wrap;
    }

    .cta,
    .outline{
      padding:15px 36px;
      border-radius:50px;
      border:none;
      font-size:15px;
      font-weight:600;
      cursor:pointer;
    }

    .cta{
      background:linear-gradient(135deg,#6c63ff,#ff4d6d);
      color:white;
    }

    .outline{
      background:transparent;
      color:white;
      border:2px solid white;
    }

    /* ‚úÖ SAMPLE WISH MODAL */
    .sample{
      display:none;
      position:absolute;
      inset:0;
      background:rgba(0,0,0,.65);
      display:flex;
      justify-content:center;
      align-items:center;
      padding:20px;
      z-index:50;
    }

    .sample-card{
      background:white;
      width:95%;
      max-width:450px;
      border-radius:20px;
      text-align:center;
      animation:pop .4s ease;
      overflow:hidden;
    }

    @keyframes pop{
      from{transform:scale(.7);opacity:0}
      to{transform:scale(1);opacity:1}
    }

    .sample-head{
      background:linear-gradient(135deg,#ff4d6d,#6c63ff);
      color:white;
      padding:14px;
      font-weight:600;
      font-size:15px;
    }

    .sample-frame{
      width:100%;
      height:420px;
      border:none;
    }

    .sample-actions{
      padding:12px;
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
    }

    .close,
    .openNew{
      padding:10px 20px;
      border:none;
      border-radius:30px;
      cursor:pointer;
      font-size:13px;
      font-weight:600;
    }

    .close{
      background:#ff4d6d;
      color:white;
    }

    .openNew{
      background:#6c63ff;
      color:white;
    }

    /* ‚úÖ AUTH */
    .auth-wrapper{
      display:none;
      padding:60px 35px;
      background:rgba(255,255,255,.2);
      backdrop-filter:blur(20px);
    }

    .auth-card{
      max-width:420px;
      margin:auto;
    }

    .auth-card h1{
      text-align:center;
      color:white;
      margin-bottom:5px;
    }

    .tagline{
      text-align:center;
      font-size:13px;
      color:white;
      opacity:.85;
      margin-bottom:20px;
    }

    .auth-tabs{
      display:flex;
      border-radius:12px;
      overflow:hidden;
      margin-bottom:18px;
    }

    .auth-tabs button{
      flex:1;
      padding:12px;
      border:none;
      background:rgba(255,255,255,.25);
      color:white;
      font-size:14px;
      cursor:pointer;
    }

    .auth-tabs button.active{
      background:white;
      color:#6c63ff;
      font-weight:600;
    }

    .auth-form{
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .auth-form input{
      padding:14px;
      border-radius:10px;
      border:none;
      outline:none;
    }

    .auth-form button{
      padding:14px;
      border-radius:10px;
      border:none;
      background:linear-gradient(135deg,#6c63ff,#ff4d6d);
      color:white;
      font-size:15px;
      font-weight:600;
    }

    .hidden{display:none}

    .auth-note{
      margin-top:16px;
      text-align:center;
      font-size:12px;
      color:white;
      opacity:.9;
    }

    @media(max-width:600px){
      .landing h1{font-size:28px}
      .sample-frame{height:350px;}
    }
  </style>
</head>
<body>

  <div class="container">

    <!-- ‚úÖ LANDING -->
    <div class="landing" id="landing">
      <h1>üéÜ Create Magical New Year Wishes</h1>
      <p>Send beautiful romantic & personalized New Year wishes with just one click üíñ</p>

      <div class="features">
        <div class="feature">üíñ Love Filled Romantic Wishes</div>
        <div class="feature">üì≤ One-Tap WhatsApp Sharing</div>
        <div class="feature">üì∏ Custom Photo & Name</div>
        <div class="feature">üéÅ Viral Wish Landing Page</div>
        <div class="feature">üîí Secure Login & Data</div>
        <div class="feature">‚ö° Super Fast Wish Generator</div>
      </div>

      <div class="buttons">
        <button class="cta" onclick="openAuth()">‚ú® Create Your Wish</button>
        <button class="outline" onclick="openSample()">üëÄ View Sample Wish</button>
      </div>
    </div>

    <!-- ‚úÖ SAMPLE PREVIEW (REAL UI EMBED) -->
    <div class="sample" id="sampleModal">
      <div class="sample-card">
        <div class="sample-head">üíñ Sample New Year Wish Preview</div>

        <iframe
          class="sample-frame"
          src="https://happy-new-year-wish.onrender.com/view.html?id=69392d7b528e4585075b9f42">
        </iframe>

        <div class="sample-actions">
          <button class="close" onclick="closeSample()">Close</button>
          <button class="openNew" onclick="openInNewTab()">Open Full View</button>
        </div>
      </div>
    </div>

    <!-- ‚úÖ LOGIN / REGISTER -->
    <div class="auth-wrapper" id="auth">

      <div class="auth-card">

        <h1>New Year Wishes üíñ</h1>
        <p class="tagline">Login & create wish for your love</p>

        <div class="auth-tabs">
          <button id="loginTab" class="active" onclick="switchTab('login')">Login</button>
          <button id="registerTab" onclick="switchTab('register')">Register</button>
        </div>

        <div id="loginForm" class="auth-form">
          <input id="lemail" type="email" placeholder="Email" required>
          <input id="lpassword" type="password" placeholder="Password" required>
          <button onclick="loginUser()">Login</button>
        </div>

        <div id="registerForm" class="auth-form hidden">
          <input id="rname" placeholder="Full Name" required>
          <input id="remail" type="email" placeholder="Email" required>
          <input id="rpassword" type="password" placeholder="Password" required>
          <button onclick="registerUser()">Create Account</button>
        </div>

        <p class="auth-note">Your wish will create magic üíó</p>

      </div>
    </div>

  </div>

<script>
function openAuth(){
  landing.style.display="none";
  auth.style.display="block";
}

function openSample(){
  sampleModal.style.display="flex";
}

function closeSample(){
  sampleModal.style.display="none";
}

function openInNewTab(){
  window.open(
    "https://happy-new-year-wish.onrender.com/view.html?id=69392d7b528e4585075b9f42",
    "_blank"
  );
}

function switchTab(tab){
  loginTab.classList.remove('active');
  registerTab.classList.remove('active');
  loginForm.classList.add('hidden');
  registerForm.classList.add('hidden');

  if(tab === 'login'){
    loginTab.classList.add('active');
    loginForm.classList.remove('hidden');
  } else {
    registerTab.classList.add('active');
    registerForm.classList.remove('hidden');
  }
}

function loginUser(){
  fetch('/api/login',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      email:lemail.value,
      password:lpassword.value
    })
  })
  .then(r=>r.json()).then(d=>{
    if(d.token){
      localStorage.setItem("token", d.token);
      location.href="dashboard.html";
    }else{
      alert("‚ùå Invalid Login");
    }
  });
}

function registerUser(){
  fetch('/api/register',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      name:rname.value,
      email:remail.value,
      password:rpassword.value
    })
  })
  .then(r=>r.json()).then(d=>{
    if(d.success){
      alert("‚úÖ Account Created! Now Login.");
      switchTab('login');
    }else{
      alert("‚ùå Registration Failed");
    }
  });
}
</script>

</body>
</html>
